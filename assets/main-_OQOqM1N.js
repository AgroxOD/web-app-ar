import"./style-D_zl4slf.js";const k="modulepreload",L=function(e){return"/web-app-ar/"+e},y={},u=function(t,n,l){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");c=Promise.allSettled(n.map(r=>{if(r=L(r),r in y)return;y[r]=!0;const i=r.endsWith(".css"),B=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${B}`))return;const s=document.createElement("link");if(s.rel=i?"stylesheet":k,i||(s.as="script"),s.crossOrigin="",s.href=r,o&&s.setAttribute("nonce",o),document.head.appendChild(s),i)return new Promise((I,b)=>{s.addEventListener("load",I),s.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${r}`)))})}))}function m(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return c.then(a=>{for(const o of a||[])o.status==="rejected"&&m(o.reason);return t().catch(m)})},E=document.getElementById("ar-overlay"),P=document.getElementById("start-ar"),p=document.getElementById("model-select"),g=document.getElementById("instructions"),v=document.getElementById("login-form"),f=document.getElementById("register-form"),w=document.getElementById("logout"),{startAR:A,modelParams:R}=await u(async()=>{const{startAR:e,modelParams:t}=await import("./ar-scene-t620aVCd.js");return{startAR:e,modelParams:t}},[]),{loadModels:T}=await u(async()=>{const{loadModels:e}=await import("./models-DtFjBj2Q.js");return{loadModels:e}},[]),{login:S,register:C,logout:D,isAuthenticated:M,setToken:h}=await u(async()=>{const{login:e,register:t,logout:n,isAuthenticated:l,setToken:c}=await import("./auth-CFXlDKj2.js");return{login:e,register:t,logout:n,isAuthenticated:l,setToken:c}},[]);try{(await T()).forEach(t=>{const n=document.createElement("option");n.value=t.url,n.textContent=t.name,p.appendChild(n)})}catch{}function d(){const e=M();v.style.display=e?"none":"block",f.style.display=e?"none":"block",w.style.display=e?"block":"none",E.style.display=e?"block":"none"}v.addEventListener("submit",async e=>{e.preventDefault();try{const{jwt:t}=await S(document.getElementById("login-identifier").value,document.getElementById("login-password").value);h(t),d()}catch{alert("Login failed")}});f.addEventListener("submit",async e=>{e.preventDefault();try{const{jwt:t}=await C(document.getElementById("register-username").value,document.getElementById("register-email").value,document.getElementById("register-password").value);h(t),d()}catch{alert("Register failed")}});w.addEventListener("click",()=>{D(),d()});d();const _=(e,t)=>{document.getElementById(e).addEventListener("input",l=>{R[t]=parseFloat(l.target.value)})};_("rot-y","rotationY");_("scale","scale");P.addEventListener("click",async()=>{await A(p.value)&&(E.style.display="none",g.style.display="block",setTimeout(()=>{g.style.display="none"},5e3))});
