(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const B="modulepreload",P=function(e){return"/web-app-ar/"+e},y={},m=function(n,r,a){let t=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=s?.nonce||s?.getAttribute("nonce");t=Promise.allSettled(r.map(c=>{if(c=P(c),c in y)return;y[c]=!0;const d=c.endsWith(".css"),L=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${L}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":B,d||(l.as="script"),l.crossOrigin="",l.href=c,i&&l.setAttribute("nonce",i),document.head.appendChild(l),d)return new Promise((_,b)=>{l.addEventListener("load",_),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return t.then(s=>{for(const i of s||[])i.status==="rejected"&&o(i.reason);return n().catch(o)})},g=document.getElementById("ar-overlay"),A=document.getElementById("start-ar"),p=document.getElementById("model-select"),f=document.getElementById("instructions"),E=document.getElementById("login-form"),v=document.getElementById("register-form"),h=document.getElementById("logout"),{startAR:O,modelParams:k}=await m(async()=>{const{startAR:e,modelParams:n}=await import("./ar-scene-t620aVCd.js");return{startAR:e,modelParams:n}},[]),{loadModels:R}=await m(async()=>{const{loadModels:e}=await import("./models-D7FANSos.js");return{loadModels:e}},[]),{login:S,register:T,logout:N,isAuthenticated:C,setToken:w}=await m(async()=>{const{login:e,register:n,logout:r,isAuthenticated:a,setToken:t}=await import("./auth-CYxqzR9M.js");return{login:e,register:n,logout:r,isAuthenticated:a,setToken:t}},[]);try{(await R()).forEach(n=>{const r=document.createElement("option");r.value=n.url,r.textContent=n.name,p.appendChild(r)})}catch{}function u(){const e=C();E.style.display=e?"none":"block",v.style.display=e?"none":"block",h.style.display=e?"block":"none",g.style.display=e?"block":"none"}E.addEventListener("submit",async e=>{e.preventDefault();try{const{jwt:n}=await S(document.getElementById("login-identifier").value,document.getElementById("login-password").value);w(n),u()}catch{alert("Login failed")}});v.addEventListener("submit",async e=>{e.preventDefault();try{const{jwt:n}=await T(document.getElementById("register-username").value,document.getElementById("register-email").value,document.getElementById("register-password").value);w(n),u()}catch{alert("Register failed")}});h.addEventListener("click",()=>{N(),u()});u();const I=(e,n)=>{document.getElementById(e).addEventListener("input",a=>{k[n]=parseFloat(a.target.value)})};I("rot-y","rotationY");I("scale","scale");A.addEventListener("click",async()=>{await O(p.value)&&(g.style.display="none",f.style.display="block",setTimeout(()=>{f.style.display="none"},5e3))});
