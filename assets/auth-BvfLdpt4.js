function c(){return localStorage.getItem("jwt")}function u(t){t&&localStorage.setItem("jwt",t)}function l(){localStorage.removeItem("jwt")}function f(){return!!c()}const s="";async function i(t,e,n){const a=s+t,o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await o.json().catch(()=>({}));if(!o.ok)throw new Error(r.error||`${n}: ${o.status}`);return r}function g(t,e){return i("/auth/login",{email:t,password:e},"Login failed")}function h(t,e,n){return i("/auth/register",{username:t,email:e,password:n},"Register failed")}export{c as getToken,f as isAuthenticated,g as login,l as logout,h as register,u as setToken};
