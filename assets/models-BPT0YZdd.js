const a="";async function c(){try{const t=await fetch(`${a}/api/models`);if(!t.ok)throw new Error(`API request failed: ${t.status}`);return await t.json()}catch(t){return console.error("API error",t),[]}}function n(t=!1){const e={},o=localStorage.getItem("jwt");return o&&(e.Authorization=`Bearer ${o}`),t&&(e["Content-Type"]="application/json"),e}async function d(t,e){const o=await fetch(`${a}/api/models/${encodeURIComponent(t)}`,{method:"PUT",headers:n(!0),body:JSON.stringify(e)});if(!o.ok){const s=(await o.json().catch(()=>({}))).error||(o.status===403?"Forbidden":"Update failed");throw new Error(s)}return o.json().catch(()=>({}))}async function i(t){const e=await fetch(`${a}/api/models/${encodeURIComponent(t)}`,{method:"DELETE",headers:n()});if(!e.ok){const r=(await e.json().catch(()=>({}))).error||(e.status===403?"Forbidden":"Delete failed");throw new Error(r)}return e.json().catch(()=>({}))}export{i as deleteModel,c as loadModels,d as updateModel};
