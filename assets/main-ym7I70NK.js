(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const A="modulepreload",O=function(t){return"/web-app-ar/"+t},E={},g=function(n,o,r){let e=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");e=Promise.allSettled(o.map(c=>{if(c=O(c),c in E)return;E[c]=!0;const u=c.endsWith(".css"),b=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${b}`))return;const i=document.createElement("link");if(i.rel=u?"stylesheet":A,u||(i.as="script"),i.crossOrigin="",i.href=c,a&&i.setAttribute("nonce",a),document.head.appendChild(i),u)return new Promise((P,k)=>{i.addEventListener("load",P),i.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return e.then(l=>{for(const a of l||[])a.status==="rejected"&&s(a.reason);return n().catch(s)})},I=document.getElementById("ar-overlay"),S=document.getElementById("start-ar"),h=document.getElementById("marker-select"),v=document.getElementById("model-select"),w=document.getElementById("instructions"),m=document.getElementById("login-form"),y=document.getElementById("register-form"),L=document.getElementById("logout"),{startAR:R,modelParams:C}=await g(async()=>{const{startAR:t,modelParams:n}=await import("./ar-scene-DAPVntcf.js");return{startAR:t,modelParams:n}},[]),{loadModels:M}=await g(async()=>{const{loadModels:t}=await import("./models-YkKymZCz.js");return{loadModels:t}},[]),{login:N,register:T,logout:D,isAuthenticated:F,setAuth:B}=await g(async()=>{const{login:t,register:n,logout:o,isAuthenticated:r,setAuth:e}=await import("./auth-BbofftVD.js");return{login:t,register:n,logout:o,isAuthenticated:r,setAuth:e}},[]);let p=[];try{p=await M();const t=[...new Set(p.map(o=>o.markerIndex))];t.forEach(o=>{const r=document.createElement("option");r.value=o,r.textContent=`Marker ${o}`,h.appendChild(r)});const n=o=>{v.innerHTML="",p.filter(r=>r.markerIndex===parseInt(o,10)).forEach(r=>{const e=document.createElement("option");e.value=r.url,e.textContent=r.name,v.appendChild(e)})};n(t[0]),h.addEventListener("change",o=>n(o.target.value))}catch{}let f=!1;function d(){const t=F();t?(m.style.display="none",y.style.display="none"):f?(m.style.display="none",y.style.display="block"):(m.style.display="block",y.style.display="none"),L.style.display=t?"block":"none",I.style.display=t?"block":"none"}m.addEventListener("submit",async t=>{t.preventDefault();try{const{jwt:n}=await N(document.getElementById("login-email").value,document.getElementById("login-password").value);B(n),d()}catch(n){alert(n.message)}});y.addEventListener("submit",async t=>{t.preventDefault();try{const{jwt:n}=await T(document.getElementById("register-username").value,document.getElementById("register-email").value,document.getElementById("register-password").value);B(n),d()}catch(n){alert(n.message)}});L.addEventListener("click",()=>{D(),d()});document.getElementById("show-register").addEventListener("click",()=>{f=!0,d()});document.getElementById("show-login").addEventListener("click",()=>{f=!1,d()});d();const _=(t,n)=>{document.getElementById(t).addEventListener("input",r=>{C[n]=parseFloat(r.target.value)})};_("rot-y","rotationY");_("scale","scale");S.addEventListener("click",async()=>{await R(p)&&(I.style.display="none",w.style.display="block",setTimeout(()=>{w.style.display="none"},5e3))});
